# ЗАДАЧА №4

Полагая, что рост мужчин определенной возрастной группы есть нормально распределенная случайная величина $X$ с параметрами $α=173$ и $\sigma ^2 = 36$, найти:

1.   доли костюмов 4-го роста $(176см-182см)$ и 3-го роста $(170см-176см)$, которые нужно предусмотреть в общем объеме производства для данной возрастной группы;
2.   квантиль $x_{0,7}$ и $10$%-ую точку случайной величины $X$.

>   Квантиль в математической статистике — значение, которое заданная случайная величина не превышает с фиксированной вероятностью. Если вероятность задана в процентах, то квантиль называется процентилем или перцентилем.

>   Например, фраза «90-й процентиль массы тела у новорожденных мальчиков составляет 4 кг» означает, что 90 % мальчиков рождаются с весом, меньшим либо равным 4 кг, а 10 % мальчиков рождаются с весом, большим либо равным 4 кг.

# РЕШЕНИЕ

```
import numpy as np
from scipy.integrate import quad

# Параметры нормального распределения роста
# a - среднее значение роста (рост в см)
a = 173
# s - стандартное отклонение роста (в см)
s = 6

# Функция плотности вероятности нормального распределения
# x - значение роста
# Возвращает значение функции плотности вероятности в точке x
f = lambda x: (1/(s*np.sqrt(2*np.pi)))*np.exp(-(x-a)**2/(2*s**2))

# Функция кумулятивной функции распределения (CDF)
# x - значение роста
# Возвращает интеграл от функции плотности вероятности от -бесконечности до x.
# Используется функция quad из scipy.integrate для численного интегрирования.
F = lambda x: quad(f, -np.inf, x)[0]

# Интервалы роста для 4-го и 3-го роста (в см)
# 4-й рост: от 176 см до 182 см
# 3-й рост: от 170 см до 176 см
interval4 = (176, 182)
interval3 = (170, 176)


# Вычисление доли костюмов 4-го и 3-го роста
# quad(f, a, b) вычисляет определенный интеграл функции f от a до b.
# Результат - доля костюмов, соответствующих данному ростовому интервалу.
# _ - переменная, в которую записывается оценка погрешности интегрирования (нам не нужна)
frac4, _ = quad(f, *interval4)  #Распаковка кортежа interval4 в аргументы функции quad
frac3, _ = quad(f, *interval3)  #Распаковка кортежа interval3 в аргументы функции quad

# Вывод результатов с форматированием до 4 знаков после запятой
print(f"Доля костюмов 4-го роста: {frac4:.4f}")
print(f"Доля костюмов 3-го роста: {frac3:.4f}")
```

`Доля костюмов 4-го роста: 0.2417`
`Доля костюмов 3-го роста: 0.3829`

```
# Вычисляем границы интервала для поиска квантиля
x1 = a - 4 * s  # Нижняя граница интервала (4 стандартных отклонения от a)
x2 = a + 4 * s  # Верхняя граница интервала (4 стандартных отклонения от a)

# Создаем массив значений для поиска квантиля
x_axis = np.linspace(x1, x2, 1000)  # 1000 точек между x1 и x2

# Задаем целевой уровень альфа
alpha = 0.7  # Целевой уровень вероятности (квантиль)

# Предварительные значения для итерационного поиска
quantile_aprox = x1  # Начальное приближение квантиля
alpha_aprox = F(x1)  # Значение функции распределения в начальной точке

# Итерационный поиск квантиля методом грубой силы
# Проходим по всем точкам x_axis и ищем точку, где значение функции распределения ближе всего к alpha
for quantile_aprox_new in x_axis:
    alpha_aprox_new = F(quantile_aprox_new)  # Вычисляем значение функции распределения в новой точке
    # Сравниваем абсолютные отклонения от целевого уровня альфа и обновляем приближение, если найдено лучшее значение
    if abs(alpha_aprox_new - alpha) < abs(alpha_aprox - alpha):
        alpha_aprox = alpha_aprox_new  # Обновляем приближение альфа
        quantile_aprox = quantile_aprox_new  # Обновляем приближение квантиля

# Выводим результат: приблизительный квантиль и соответствующий ему уровень вероятности
print(f'{quantile_aprox:.4f}, {alpha_aprox:.4f}')
```

`176.1471, 0.7000`

$10$%-ая точка случайной величины $X$ — есть квантиль $x_{0,9}$

```
# Задаем уровень значимости (альфа)
alpha = 0.9

# Начальное приближение квантиля
quantile_aprox = x1 # Начальное приближение квантиля

# Вычисляем значение кумулятивной функции распределения (CDF) в начальной точке
alpha_aprox = F(x1) # Значение функции распределения в начальной точке

# Итерационный поиск квантиля методом грубой силы
# Проходим по всем точкам x_axis и ищем точку, где значение функции распределения ближе всего к alpha
for quantile_aprox_new in x_axis:
    alpha_aprox_new = F(quantile_aprox_new) # Вычисляем значение функции распределения в новой точке
# Сравниваем абсолютные отклонения от целевого уровня альфа и обновляем приближение, если найдено лучшее значение
    if abs(alpha_aprox_new - alpha) < abs(alpha_aprox - alpha):
        alpha_aprox = alpha_aprox_new  # Обновляем значение alpha
        quantile_aprox = quantile_aprox_new # Обновляем приближение квантиля

# Выводим результат: приближенное значение квантиля и соответствующее ему уровень вероятности
print(f'{quantile_aprox:.4f}, {alpha_aprox:.4f}')
```

`180.7117, 0.9007`
